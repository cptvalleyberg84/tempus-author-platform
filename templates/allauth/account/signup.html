{% extends "account/base_entrance.html" %}
{% load allauth i18n %}
{% block head_title %}
    {% trans "Signup" %}
{% endblock head_title %}
{% block inner_content %}
    {% element h1 %}
        {% trans "Sign Up" %}
    {% endelement %}
        <!-- Community Rules Section -->
        <div class="card mb-4" role="region" aria-label="Community Guidelines">
            <div class="card-header">
                <h5 class="mb-0">Community Guidelines</h5>
            </div>
            <div class="card-body">
                <p class="card-text">Before joining our community, please read and agree to our guidelines:</p>
                <ul class="list-group list-group-flush" role="list">
                    <li class="list-group-item" role="listitem">
                        <i class="fas fa-check text-success me-2" aria-hidden="true"></i>
                        Be respectful and courteous to other members
                    </li>
                    <li class="list-group-item" role="listitem">
                        <i class="fas fa-check text-success me-2" aria-hidden="true"></i>
                        Share authentic and original content
                    </li>
                    <li class="list-group-item" role="listitem">
                        <i class="fas fa-check text-success me-2" aria-hidden="true"></i>
                        Protect your account information
                    </li>
                    <li class="list-group-item" role="listitem">
                        <i class="fas fa-check text-success me-2" aria-hidden="true"></i>
                        Report any suspicious activity
                    </li>
                </ul>
                <p class="mt-3 text-muted small">
                    By creating an account, you agree to follow these guidelines and our 
                    <a href="#" class="text-decoration-none" aria-label="Read Terms of Service">Terms of Service</a>.
                </p>
            </div>
        </div>
    {% setvar link %}
        <a href="{{ login_url }}" aria-label="Go to sign in page">
        {% endsetvar %}
        {% setvar end_link %}
        </a>
    {% endsetvar %}
    {% element p %}
        {% blocktranslate %}Already have an account? Then please {{ link }}sign in{{ end_link }}.{% endblocktranslate %}
    {% endelement %}

    {% if not SOCIALACCOUNT_ONLY %}
        {% url 'account_signup' as action_url %}
        {% element form form=form method="post" action=action_url tags="entrance,signup" %}
            {% slot body %}
                {% csrf_token %}
                {% element fields form=form unlabeled=True %}
                {% endelement %}
                {{ redirect_field }}
                
                <!-- Newsletter Signup -->
                <div class="mb-3">
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="newsletterSignup" name="newsletter_signup" unchecked
                               data-form-url="{{ settings.GOOGLE_FORM_URL }}">
                        <label class="form-check-label" for="newsletterSignup">
                            Sign up to our author's mailing list to receive updates and exclusive content
                        </label>
                    </div>
                </div>
            {% endslot %}
            {% slot actions %}
                {% element button tags="prominent,signup" type="submit" %}
                    {% trans "Sign Up" %}
                {% endelement %}
            {% endslot %}
        {% endelement %}
    {% endif %}
    
    {% if PASSKEY_SIGNUP_ENABLED %}
        {% element hr %}
        {% endelement %}
        {% element button href=signup_by_passkey_url tags="prominent,signup,outline,primary" %}
            {% trans "Sign up using a passkey" %}
        {% endelement %}
    {% endif %}
    {% if SOCIALACCOUNT_ENABLED %}
        {% include "socialaccount/snippets/login.html" with page_layout="entrance" %}
    {% endif %}
{% endblock inner_content %}

{% block extra_js %}
    {{ block.super }}
    {% include "signup_script.js" %}
{% endblock %}